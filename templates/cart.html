{% extends "base.html" %}

 {% block style %}
#cart_quantity::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        
        }
        #cart_quantity{
            padding-left: 8px;
            border:none;
        }
{% endblock style %}


{% block content %}


<section class="mb-5">
  <div class="container mt-5">
    <div class="row mt-5">
      {% if cart_data %}

      <h1 class="text-center text-danger mt-5">Shopping Cart</h1>
      <div class="col-md-7 mt-5">
        {% comment %} card srart  {% endcomment %}
        {% for i in cart_data %} 
        <div class="card rounded-3 mt-3 mb-4">
          <div class="card-body p-4 ">
            <div class="row d-flex justify-content-between align-items-center">

              <div class="col-md-2 col-lg-2 col-xl-2">
                <img src="{{i.product.img.url}}" class="img-fluid rounded-3" alt="img"/>
              </div>

              <div class="col-md-3 col-lg-3 col-xl-3">
                <p class="lead fw-normal mb-2">{{i.product.product_name}}</p>
              </div>

              <div class="col-md-3 col-lg-3 col-xl-2 d-flex">
                
                  <button class="btn btn-link px-2" id="cart_minus"><i class="fas fa-minus"></i></button>
                  <input type="Number"  id="cart_quantity" class="" value="1" style="width: 50% !important;" placeholder="">
                  <button class="btn btn-link px-2" id="cart_plus"><i class="fas fa-plus"></i></button>
                
              </div>

              <div class="col-md-3 col-lg-2 col-xl-2 offset-lg-1">
                <h5 class="mb-0"><i class="fa-solid fa-indian-rupee-sign"></i>{{i.product.selling_price}}</h5>
              </div>

              <div class="col-md-1 col-lg-1 col-xl-1 text-end">
                <a href="/delete_cart/{{i.id}}/" class="text-danger"><i class="fas fa-trash fa-lg"></i></a>
              </div>

            </div>
          </div>
        </div>
        {% endfor %}
        {% comment %} card end  {% endcomment %}
      </div>
      <div class="col-md-4 mt-5">

        <div class="card mt-3 p-5">
            <div class="d-flex justify-content-between" style="font-weight: 500;">
              <p class="mb-2">Amount</p>
              <p class="mb-2"><i class="fa-solid fa-indian-rupee-sign"></i>{{sub_total}}</p>
            </div>

            <div class="d-flex justify-content-between" style="font-weight: 500;">
              <p class="mb-0">Shipping</p>
              <p class="mb-0"><i class="fa-solid fa-indian-rupee-sign"></i>70</p>
            </div>

            <hr class="my-4">
            <div class="d-flex justify-content-between mb-4" style="font-weight: 500;">
              <p class="mb-2">Total</p>
              <p class="mb-2"><i class="fa-solid fa-indian-rupee-sign"></i>{{total}}</p>
            </div>
            <a href="{% url "select_address" %}"><button  type="button"  class="btn btn-primary btn-lg w-100"> Place Order</button></a>

          </div>

          
      </div>
      {% else %}
      <h1 class="text-center text-danger mt-5">Your cart is empty</h1>

      {% endif %}
    </div>
  </div>
</section>

{% endblock content %}
